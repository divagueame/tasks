<%= turbo_stream.remove @todo %>

<% if previous_todo = @todo.previous_todo %>
  <%= turbo_stream.after previous_todo do %>
    <%= render @todo, task: @task %>
  <% end %>
<% else %>
  <%= turbo_stream.prepend "todos" do %>
    <%= render @todo, task: @task %>
  <% end %>
<% end %>

<%= render_turbo_stream_flash_messages %>